# 2020/12

## 02
[extension Dateで日付計算をしてはいけない \- Qiita](https://qiita.com/takasek/items/1ecd7f2cd7e0d08354eb)

## Swift
Appleが開発したPG言語でApple Watch向けのアプリ開発などで使用されている。

### なぜextension Dateから日付を取得してはダメなのか

```swift
extension Date {
    var year: Int {
        Calendar.current.component(.year, from: self)
    }
    var month: Int {
        Calendar.current.component(.month, from: self)
    }
    var day: Int {
        Calendar.current.component(.day, from: self)
    }
    var hyphened: String {
        String(format: "%04d-%02d-%02d", year, month, day)
    }
}

let now = Date()
now.year // 2020
now.month // 12
now.day // 2
now.hyphened // "2020-12-02"
```
上記はextension Dateの使用を誤った悪い例。  
Dateメソッドはdate同士の比較やインターバルの計算の用途で使用されるメソッドなので「Calendar」メソッドを使用する方が適している。

### まとめ
結果だけ出力できれば良いという考え方だと、その過程で躓いていたなどという事例があり得るので本記事のように日付を求める際はこのメソッドで正しいかなどきちんと精査してPG開発を行おうと考えました。