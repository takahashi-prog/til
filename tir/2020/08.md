# 2020/08

## 03
[C\+\+の参照とRustの参照 \- Qiita](https://qiita.com/termoshtt/items/3e3175a66c96219dcf17)

### C++とRust
Rustはプログラミング言語でC++の後継と言われている。

### c++の参照とRustの参照の違い
構造体Aの参照をメイン関数で受け取り、参照元を解放する。  
再度使おうとすると異常値が返ってくる。

同じ処理をRustで作成するとエラーとして解釈、表示してくれる。

```c++
//c++
class A {
    std::string name;
public:
    A(std::string name): name(name) {}
    const std::string& get_name() const {
        return this->name;
    }
};

int main() {
    A* a = new A("a");
    auto& name_ref = a->get_name();
    delete a;

    std::cout << name_ref << std::endl;
    return 0;
}
```
### まとめ
Rustはc++と違い、参照の生存期間を推論してくれる。  
事前にエラーとして解釈してくれるのでc++では危険だった参照が扱いやすくなる。

